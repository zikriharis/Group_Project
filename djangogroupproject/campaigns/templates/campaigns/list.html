{% extends 'base.html' %}
{% load static %}

{% block title %}Browse Campaigns - FundRaise Platform{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'campaigns/css/campaigns.css' %}">
{% endblock %}

{% block content %}
<div class="page-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 3rem 0; text-align: center;">
    <div class="container">
        <h1>Browse Campaigns</h1>
        <p>Choose a cause that matters to you</p>
    </div>
</div>

<div class="container" style="margin-top: 2rem;">
    <div class="campaigns-grid">
        {% for campaign in campaigns %}
        <div class="campaign-card">
            <div class="campaign-image">
                {% if campaign.main_image %}
                <img src="{{ campaign.main_image.url }}" alt="{{ campaign.title }}" style="width: 100%; height: 100%; object-fit: cover;">
                {% else %}
                ðŸ“· {{ campaign.title }}
                {% endif %}
            </div>
            <div class="campaign-content">
                <h3 class="campaign-title">{{ campaign.title }}</h3>
                <p class="campaign-org">by {{ campaign.organization.name }}</p>
                <p class="campaign-description">{{ campaign.brief_description|truncatewords:20 }}</p>
                
                <div class="campaign-stats">
                    <div class="raised-amount">RM {{ campaign.total_raised|floatformat:0 }}</div>
                    <div class="goal-amount">of RM {{ campaign.goal_amount|floatformat:0 }}</div>
                </div>
                
                <div class="progress-bar-small">
                    <div class="progress-fill-small" style="width: {{ campaign.progress_percentage }}%"></div>
                </div>
                
                <a href="{% url 'campaigns:detail' campaign_id=campaign.id %}" class="btn btn-primary" style="width: 100%; text-align: center;">
                    View Campaign
                </a>
            </div>
        </div>
        {% empty %}
        <div class="card">
            <div style="padding: 2rem; text-align: center;">
                <h3>No campaigns available</h3>
                <p>Check back later for new campaigns.</p>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}